<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>    </head>
    <body>

            <input type="file" id="js-file-input" name="file-upload"/>
            <button id="js-upload-button"> Upload </button>

    </body>
    <script>
        $('#js-upload-button').on('click', e=>{
            const uploadFileElement = document.getElementById("js-file-input")
            if (uploadFileElement.files.length === 0) {
                alert('please choose a file');
                return;
            };
            let file = uploadFileElement.files[0];
            let formData = new FormData(); 
            formData.append("file", file);
            console.log(formData);
            $.ajax({
                method: 'post',
                url: 'http://127.0.0.1:3000/api/ocr',
                data: formData,
                processData: false,
                contentType: false
            })
            .done(e=>{
                console.log(e);
            });

        });
        
    </script>
</html>